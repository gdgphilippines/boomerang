<div id="view">
	<section>
		<div class="container">
			<div class="columns">
				<div class="col-12">
					<div class="card">
						<div class="wrapper">
							<div class="table">
								<div class="row">
									<div class="cell">
										<h1>Inventory</h1>
									</div>
									<div class="cell right">
										<a href="#/inventory/new" class="button"><i class="mdi mdi-plus"></i><span class="m-hide">Add New Item</span></a>
									</div>
								</div>
							</div>
						</div>
						<div class="table vertical-data middle" id="tblData">
							<div class="row title">
								<div class="cell">Item Name</div>
								<div class="cell">Quantity</div>
								<div class="cell">Unit</div>
								<div class="cell">Stored in</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
	<script>
		var i = new Item();
		i.getAll(function(data) {
			$("#tblData").find("[data-id]").remove();
			for(var x in data) {
				if(data[x].hasOwnProperty("stored")) {
					var first = true, c = 0, total = 0;
					for(var y in data[x].stored) {
						var storage = new Storage();
						storage.set(y, function() {
							if(first) {
								first = false;
								$("#tblData").append($("<div></div>").addClass("row").attr("data-id", x).append('<div class="cell">'+data[x].name+' <a href="#/inventory/edit/'+x+'" class="icon_button"><i class="mdi mdi-pencil small"></i><span>Edit</span></a><a href="#/inventory/delete/'+x+'" class="icon_button"><i class="mdi mdi-delete small"></i><span>Delete</span></a><br><small>'+data[x].description+'</small></div><div class="cell">'+data[x].stored[y]+'</div><div class="cell">'+data[x].unit+'</div><div class="cell">'+storage.name+'</div>'));
							} else {
								$("#tblData").append($("<div></div>").addClass("row").attr("data-id", x).append('<div class="cell"></div><div class="cell">'+data[x].stored[y]+'</div><div class="cell">'+data[x].unit+'</div><div class="cell">'+storage.name+'</div>'));
							}
							total += data[x].stored[y];
							c++;
						});
					}
				} else {
					$("#tblData").append($("<div></div>").addClass("row").attr("data-id", x).append('<div class="cell">'+data[x].name+' <a href="#/inventory/edit/'+x+'" class="icon_button"><i class="mdi mdi-pencil small"></i><span>Edit</span></a><a href="#/inventory/delete/'+x+'" class="icon_button"><i class="mdi mdi-delete small"></i><span>Delete</span></a><br><small>'+data[x].description+'</small></div><div class="cell">0</div><div class="cell">'+data[x].unit+'</div><div class="cell"><span class="red tag">N/A</span></div>'));
				}

			}
		})
	</script>
</div>